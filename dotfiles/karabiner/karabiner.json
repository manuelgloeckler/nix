{
  "global": {
    "show_in_menu_bar": false,
    "show_profile_name_in_menu_bar": false
  },
  "profiles": [
    {
      "name": "Default",
      "selected": true,
      "complex_modifications": {
        "parameters": {
          "basic.to_if_alone_timeout_milliseconds": 250,
          "basic.to_if_held_down_threshold_milliseconds": 250
        },
        "rules": [
          {
            "description": "Caps Lock → Esc (tap) / Ctrl (hold)",
            "manipulators": [
              {
                "type": "basic",
                "from": { "key_code": "caps_lock", "modifiers": { "optional": [ "any" ] } },
                "to_if_alone":   [ { "key_code": "escape" } ],
                "to_if_held_down": [ { "key_code": "left_control" } ]
              }
            ]
          },
          {
            "description": "Map media keys to F1–F12 (for external keyboards)",
            "manipulators": [
              { "type": "basic", "from": { "consumer_key_code": "display_brightness_decrement" }, "to": [ { "key_code": "f1" } ] },
              { "type": "basic", "from": { "consumer_key_code": "display_brightness_increment" }, "to": [ { "key_code": "f2" } ] },
              { "type": "basic", "from": { "key_code": "mission_control" }, "to": [ { "key_code": "f3" } ] },
              { "type": "basic", "from": { "key_code": "launchpad" }, "to": [ { "key_code": "f4" } ] },
              { "type": "basic", "from": { "consumer_key_code": "illumination_decrement" }, "to": [ { "key_code": "f5" } ] },
              { "type": "basic", "from": { "consumer_key_code": "illumination_increment" }, "to": [ { "key_code": "f6" } ] },
              { "type": "basic", "from": { "consumer_key_code": "rewind" }, "to": [ { "key_code": "f7" } ] },
              { "type": "basic", "from": { "consumer_key_code": "play_or_pause" }, "to": [ { "key_code": "f8" } ] },
              { "type": "basic", "from": { "consumer_key_code": "fastforward" }, "to": [ { "key_code": "f9" } ] },
              { "type": "basic", "from": { "consumer_key_code": "mute" }, "to": [ { "key_code": "f10" } ] },
              { "type": "basic", "from": { "consumer_key_code": "volume_decrement" }, "to": [ { "key_code": "f11" } ] },
              { "type": "basic", "from": { "consumer_key_code": "volume_increment" }, "to": [ { "key_code": "f12" } ] }
            ]
          }
        ]
      },
      "simple_modifications": [],
      "devices": [],
      "virtual_hid_keyboard": {
        "country_code": 0,
        "keyboard_type": "ansi"
      }
    }
  ]
}
